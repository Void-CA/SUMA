WHITESPACE = _{ " " | "\t" | "\r" | "\n" }

// Un bloque de optimización completo (tu 'problem')
optimize_block = { SOI  ~ objective ~ constraints_section ~ EOI }

// El header opcional con nombre
optimize_header = { "optimize" ~ string_lit }

// Objetivo
objective = { type_obj ~ ":" ~ expression }

type_obj  = { "maximize" | "minimize" }

// Restricciones
constraints_section = { "constraints" ~ ":" ~ constraints }
constraints = { constraint+ }
constraint  = { expression ~ operator ~ expression }

// --- Matemáticas ---
operator   = { "<=" | ">=" | "==" | "<" | ">" }
expression = { term ~ (add_op ~ term)* }
term       = { factor ~ (mul_op ~ factor)* }
factor     = { number | ident | "(" ~ expression ~ ")" }
add_op     = { "+" | "-" }
mul_op     = { "*" | "/" }
ident      = @{ ASCII_ALPHA ~ (ASCII_ALPHANUMERIC | "_")* }
number     = @{ ASCII_DIGIT+ ~ ("." ~ ASCII_DIGIT*)? }
string_lit = @{ "\"" ~ (!"\"" ~ ANY)* ~ "\"" | "'" ~ (!"'" ~ ANY)* ~ "'" }